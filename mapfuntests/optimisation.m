function pass = optimisation

tol = mapfunpref('eps');

f1 = @(x) exp(-5*(x-1.2).^2).*cos(10*pi*x-0.7); 
ff1 = mapfun(f1,[0 2]);

[mnVal,mnPos] = min(ff1);

pass(1) = abs( mnVal - -0.970544738142478 ) < 90*tol;
pass(2) = abs( mnPos -  1.123061090374292 ) < 20*tol;

[mxVal,mxPos] = max(ff1);

pass(3) = abs( mxVal - 0.997545547278349 ) < 20*tol;
pass(4) = abs( mxPos - 1.222058199418085 ) < 20*tol;

[mxVals,mxPoss] = minandmax(ff1,'local');

pass(5) = norm(mxVals - [0.001041555023132
-0.003182163706906
0.008804897114745
-0.022064533222788
0.050077270299172
-0.102936219812289
0.191638637848291
-0.323139616954574
0.493507644992639
-0.682649290066754
0.855271942629785
-0.970544738142479
0.997545547278353
-0.928658391080487
0.783041357085015
-0.598022341189335
0.413667896102428
-0.259170058558747
0.147066097381938
-0.075584099731767],inf) < 100*tol;

pass(6) = max(norm(mxPoss-[0.033597704538104
0.132706232768020
0.231797631094300
0.330872913255978
0.429933236096836
0.528979896477751
0.628014325309173
0.727038078603326
0.826052825555401
0.925060333783692
1.024062451983881
1.123061090374292
1.222058199418085
1.321055747396737
1.420055697469524
1.519059984881086
1.618070494971303
1.717089042599071
1.816117353518064
1.915157048143861],inf)) < 4500*tol;